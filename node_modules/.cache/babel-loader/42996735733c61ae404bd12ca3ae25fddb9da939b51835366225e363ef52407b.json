{"ast":null,"code":"import*as React from\"react\";import{memo,useRef}from\"react\";import{motion,useMotionValue}from\"framer-motion\";import{Link,useNavigate}from\"react-router-dom\";import{ContentPlaceholder}from\"./ContentPlaceholder\";import{Title}from\"./Title\";import{Image}from\"./Image\";import{openSpring,closeSpring}from\"./animations\";import{useScrollConstraints}from\"../utils/use-scroll-constraints\";import{useWheelScroll}from\"../utils/use-wheel-scroll\";// Distance in pixels a user has to scroll a card down before we recognise\n// a swipe-to dismiss action.\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const dismissDistance=150;export const Card=/*#__PURE__*/memo(_ref=>{let{isSelected,id,title,category,// history prop 제거\npointOfInterest,backgroundColor,article}=_ref;const navigate=useNavigate();// useNavigate hook 사용\nconst y=useMotionValue(0);const zIndex=useMotionValue(isSelected?2:0);// We'll use the opened card element to calculate the scroll constraints\nconst cardRef=useRef(null);const constraints=useScrollConstraints(cardRef,isSelected);const checkSwipeToDismiss=React.useCallback(()=>{y.get()>dismissDistance&&navigate(\"/\");// navigate 직접 사용\n},[y,navigate]);function checkZIndex(latest){if(isSelected){zIndex.set(2);}else if(!isSelected&&latest.scaleX<1.01){zIndex.set(0);}}// When this card is selected, attach a wheel event listener\nconst containerRef=useRef(null);useWheelScroll(containerRef,y,constraints,checkSwipeToDismiss,isSelected);return/*#__PURE__*/_jsxs(\"li\",{ref:containerRef,className:`card`,children:[/*#__PURE__*/_jsx(Overlay,{isSelected:isSelected}),/*#__PURE__*/_jsxs(\"div\",{className:`card-content-container ${isSelected&&\"open\"}`,children:[/*#__PURE__*/_jsx(motion.img,{className:\"close\",src:`${process.env.PUBLIC_URL}/images/btn_close.svg`,onClick:()=>navigate(\"/\"),style:{cursor:\"pointer\"},whileHover:{scale:1.1},whileTap:{scale:0.9}}),/*#__PURE__*/_jsxs(motion.div,{ref:cardRef,className:\"card-content\",style:{zIndex,y},layout:true,transition:isSelected?openSpring:closeSpring,drag:isSelected?\"y\":false,dragConstraints:constraints,onDrag:checkSwipeToDismiss,onDragEnd:checkZIndex,children:[/*#__PURE__*/_jsx(Image,{id:id,isSelected:isSelected,pointOfInterest:pointOfInterest,backgroundColor:backgroundColor}),/*#__PURE__*/_jsx(Title,{title:title,category:category,isSelected:isSelected}),/*#__PURE__*/_jsx(ContentPlaceholder,{article:article})]})]}),!isSelected&&/*#__PURE__*/_jsx(Link,{to:id,className:`card-open-link`})]});},(prev,next)=>prev.isSelected===next.isSelected);const Overlay=_ref2=>{let{isSelected}=_ref2;return/*#__PURE__*/_jsx(motion.div,{initial:false,animate:{opacity:isSelected?1:0},transition:{duration:0.2},style:{pointerEvents:isSelected?\"auto\":\"none\"},className:\"overlay\",children:/*#__PURE__*/_jsx(Link,{to:\"/\",style:{display:\"block\",width:\"100%\",height:\"100%\",position:\"absolute\",top:0,left:0},\"aria-label\":\"Close card\"})});};","map":{"version":3,"names":["React","memo","useRef","motion","useMotionValue","Link","useNavigate","ContentPlaceholder","Title","Image","openSpring","closeSpring","useScrollConstraints","useWheelScroll","jsx","_jsx","jsxs","_jsxs","dismissDistance","Card","_ref","isSelected","id","title","category","pointOfInterest","backgroundColor","article","navigate","y","zIndex","cardRef","constraints","checkSwipeToDismiss","useCallback","get","checkZIndex","latest","set","scaleX","containerRef","ref","className","children","Overlay","img","src","process","env","PUBLIC_URL","onClick","style","cursor","whileHover","scale","whileTap","div","layout","transition","drag","dragConstraints","onDrag","onDragEnd","to","prev","next","_ref2","initial","animate","opacity","duration","pointerEvents","display","width","height","position","top","left"],"sources":["/Users/heetaekwoo/Documents/Github/WebSite-MmBook/src/Card/index.jsx"],"sourcesContent":["import * as React from \"react\";\nimport { memo, useRef } from \"react\";\nimport { motion, useMotionValue } from \"framer-motion\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { ContentPlaceholder } from \"./ContentPlaceholder\";\nimport { Title } from \"./Title\";\nimport { Image } from \"./Image\";\nimport { openSpring, closeSpring } from \"./animations\";\nimport { useScrollConstraints } from \"../utils/use-scroll-constraints\";\nimport { useWheelScroll } from \"../utils/use-wheel-scroll\";\n// Distance in pixels a user has to scroll a card down before we recognise\n// a swipe-to dismiss action.\nconst dismissDistance = 150;\nexport const Card = memo(\n  ({\n    isSelected,\n    id,\n    title,\n    category,\n    // history prop 제거\n    pointOfInterest,\n    backgroundColor,\n    article\n  }) => {\n    const navigate = useNavigate(); // useNavigate hook 사용\n    const y = useMotionValue(0);\n    const zIndex = useMotionValue(isSelected ? 2 : 0);\n    // We'll use the opened card element to calculate the scroll constraints\n    const cardRef = useRef(null);\n    const constraints = useScrollConstraints(cardRef, isSelected);\n    const checkSwipeToDismiss = React.useCallback(() => {\n      y.get() > dismissDistance && navigate(\"/\"); // navigate 직접 사용\n    }, [y, navigate]);\n    function checkZIndex(latest) {\n      if (isSelected) {\n        zIndex.set(2);\n      } else if (!isSelected && latest.scaleX < 1.01) {\n        zIndex.set(0);\n      }\n    }\n    // When this card is selected, attach a wheel event listener\n    const containerRef = useRef(null);\n    useWheelScroll(\n      containerRef,\n      y,\n      constraints,\n      checkSwipeToDismiss,\n      isSelected\n    );\n    return (\n      <li ref={containerRef} className={`card`}>\n        <Overlay isSelected={isSelected} />\n        <div className={`card-content-container ${isSelected && \"open\"}`}>\n          <motion.img \n            className=\"close\" \n            src={`${process.env.PUBLIC_URL}/images/btn_close.svg`}\n            onClick={() => navigate(\"/\")}\n            style={{ cursor: \"pointer\" }}\n            whileHover={{ scale: 1.1 }}\n            whileTap={{ scale: 0.9 }}\n          />\n          <motion.div\n            ref={cardRef}\n            className=\"card-content\"\n            style={{ zIndex, y }}\n            layout\n            transition={isSelected ? openSpring : closeSpring}\n            drag={isSelected ? \"y\" : false}\n            dragConstraints={constraints}\n            onDrag={checkSwipeToDismiss}\n            onDragEnd={checkZIndex}\n          >\n            <Image\n              id={id}\n              isSelected={isSelected}\n              pointOfInterest={pointOfInterest}\n              backgroundColor={backgroundColor}\n            />\n\n            <Title title={title} category={category} isSelected={isSelected} />\n            <ContentPlaceholder article={article} />\n          </motion.div>\n        </div>\n        {!isSelected && <Link to={id} className={`card-open-link`} />}\n      </li>\n    );\n  },\n  (prev, next) => prev.isSelected === next.isSelected\n);\nconst Overlay = ({ isSelected }) => (\n  <motion.div\n    initial={false}\n    animate={{ opacity: isSelected ? 1 : 0 }}\n    transition={{ duration: 0.2 }}\n    style={{ pointerEvents: isSelected ? \"auto\" : \"none\" }}\n    className=\"overlay\"\n  >\n    <Link \n      to=\"/\" \n      style={{ \n        display: \"block\", \n        width: \"100%\", \n        height: \"100%\",\n        position: \"absolute\",\n        top: 0,\n        left: 0\n      }}\n      aria-label=\"Close card\"\n    />\n  </motion.div>\n);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}