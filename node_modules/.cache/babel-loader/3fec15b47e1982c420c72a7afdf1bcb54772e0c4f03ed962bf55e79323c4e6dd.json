{"ast":null,"code":"var _jsxFileName = \"/Users/heetaekwoo/Documents/Github/WebSite-MmBook/src/Card/index.jsx\",\n  _s = $RefreshSig$();\nimport * as React from \"react\";\nimport { memo, useRef } from \"react\";\nimport { motion, useMotionValue } from \"framer-motion\";\nimport { Link } from \"react-router-dom\";\nimport { useInvertedBorderRadius } from \"../utils/use-inverted-border-radius\";\nimport { ContentPlaceholder } from \"./ContentPlaceholder\";\nimport { Title } from \"./Title\";\nimport { Image } from \"./Image\";\nimport { openSpring, closeSpring } from \"./animations\";\nimport { useScrollConstraints } from \"../utils/use-scroll-constraints\";\nimport { useWheelScroll } from \"../utils/use-wheel-scroll\";\n// Distance in pixels a user has to scroll a card down before we recognise\n// a swipe-to dismiss action.\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst dismissDistance = 150;\nexport const Card = /*#__PURE__*/_s(/*#__PURE__*/memo(_c = _s(_ref => {\n  _s();\n  let {\n    isSelected,\n    id,\n    title,\n    category,\n    history,\n    pointOfInterest,\n    backgroundColor,\n    article\n  } = _ref;\n  const y = useMotionValue(0);\n  const zIndex = useMotionValue(isSelected ? 2 : 0);\n  // Maintain the visual border radius when we perform the layoutTransition by inverting its scaleX/Y\n  const inverted = useInvertedBorderRadius(0);\n  // We'll use the opened card element to calculate the scroll constraints\n  const cardRef = useRef(null);\n  const constraints = useScrollConstraints(cardRef, isSelected);\n  function checkSwipeToDismiss() {\n    y.get() > dismissDistance && history.push(\"/\");\n  }\n  function checkZIndex(latest) {\n    if (isSelected) {\n      zIndex.set(2);\n    } else if (!isSelected && latest.scaleX < 1.01) {\n      zIndex.set(0);\n    }\n  }\n  // When this card is selected, attach a wheel event listener\n  const containerRef = useRef(null);\n  useWheelScroll(containerRef, y, constraints, checkSwipeToDismiss, isSelected);\n  return /*#__PURE__*/_jsxDEV(\"li\", {\n    ref: containerRef,\n    className: `card`,\n    children: [/*#__PURE__*/_jsxDEV(Overlay, {\n      isSelected: isSelected\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `card-content-container ${isSelected && \"open\"}`,\n      children: [/*#__PURE__*/_jsxDEV(motion.img, {\n        className: \"close\",\n        src: `${process.env.PUBLIC_URL}/images/btn_close.svg`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(motion.div, {\n        ref: cardRef,\n        className: \"card-content\",\n        style: Object.assign(Object.assign({}, inverted), {\n          zIndex,\n          y\n        }),\n        layoutTransition: isSelected ? openSpring : closeSpring,\n        drag: isSelected ? \"y\" : false,\n        dragConstraints: constraints,\n        onDrag: checkSwipeToDismiss,\n        onUpdate: checkZIndex,\n        children: [/*#__PURE__*/_jsxDEV(Image, {\n          id: id,\n          isSelected: isSelected,\n          pointOfInterest: pointOfInterest,\n          backgroundColor: backgroundColor\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Title, {\n          title: title,\n          category: category,\n          isSelected: isSelected\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(ContentPlaceholder, {\n          article: article\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }, this), !isSelected && /*#__PURE__*/_jsxDEV(Link, {\n      to: id,\n      className: `card-open-link`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 25\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 7\n  }, this);\n}, \"ngHcWLq8ej57Rd8NE3E26BSJQqo=\", false, function () {\n  return [useMotionValue, useMotionValue, useInvertedBorderRadius, useScrollConstraints, useWheelScroll];\n}), (prev, next) => prev.isSelected === next.isSelected), \"ngHcWLq8ej57Rd8NE3E26BSJQqo=\", false, function () {\n  return [useMotionValue, useMotionValue, useInvertedBorderRadius, useScrollConstraints, useWheelScroll];\n});\n_c2 = Card;\nconst Overlay = _ref2 => {\n  let {\n    isSelected\n  } = _ref2;\n  return /*#__PURE__*/_jsxDEV(motion.div, {\n    initial: false,\n    animate: {\n      opacity: isSelected ? 1 : 0\n    },\n    transition: {\n      duration: 0.2\n    },\n    style: {\n      pointerEvents: isSelected ? \"auto\" : \"none\"\n    },\n    className: \"overlay\",\n    children: /*#__PURE__*/_jsxDEV(Link, {\n      to: \"/\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 85,\n    columnNumber: 3\n  }, this);\n};\n_c3 = Overlay;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"Card$memo\");\n$RefreshReg$(_c2, \"Card\");\n$RefreshReg$(_c3, \"Overlay\");","map":{"version":3,"names":["React","memo","useRef","motion","useMotionValue","Link","useInvertedBorderRadius","ContentPlaceholder","Title","Image","openSpring","closeSpring","useScrollConstraints","useWheelScroll","jsxDEV","_jsxDEV","dismissDistance","Card","_s","_c","_ref","isSelected","id","title","category","history","pointOfInterest","backgroundColor","article","y","zIndex","inverted","cardRef","constraints","checkSwipeToDismiss","get","push","checkZIndex","latest","set","scaleX","containerRef","ref","className","children","Overlay","fileName","_jsxFileName","lineNumber","columnNumber","img","src","process","env","PUBLIC_URL","div","style","Object","assign","layoutTransition","drag","dragConstraints","onDrag","onUpdate","to","prev","next","_c2","_ref2","initial","animate","opacity","transition","duration","pointerEvents","_c3","$RefreshReg$"],"sources":["/Users/heetaekwoo/Documents/Github/WebSite-MmBook/src/Card/index.jsx"],"sourcesContent":["import * as React from \"react\";\nimport { memo, useRef } from \"react\";\nimport { motion, useMotionValue } from \"framer-motion\";\nimport { Link } from \"react-router-dom\";\nimport { useInvertedBorderRadius } from \"../utils/use-inverted-border-radius\";\nimport { ContentPlaceholder } from \"./ContentPlaceholder\";\nimport { Title } from \"./Title\";\nimport { Image } from \"./Image\";\nimport { openSpring, closeSpring } from \"./animations\";\nimport { useScrollConstraints } from \"../utils/use-scroll-constraints\";\nimport { useWheelScroll } from \"../utils/use-wheel-scroll\";\n// Distance in pixels a user has to scroll a card down before we recognise\n// a swipe-to dismiss action.\nconst dismissDistance = 150;\nexport const Card = memo(\n  ({\n    isSelected,\n    id,\n    title,\n    category,\n    history,\n    pointOfInterest,\n    backgroundColor,\n    article\n  }) => {\n    const y = useMotionValue(0);\n    const zIndex = useMotionValue(isSelected ? 2 : 0);\n    // Maintain the visual border radius when we perform the layoutTransition by inverting its scaleX/Y\n    const inverted = useInvertedBorderRadius(0);\n    // We'll use the opened card element to calculate the scroll constraints\n    const cardRef = useRef(null);\n    const constraints = useScrollConstraints(cardRef, isSelected);\n    function checkSwipeToDismiss() {\n      y.get() > dismissDistance && history.push(\"/\");\n    }\n    function checkZIndex(latest) {\n      if (isSelected) {\n        zIndex.set(2);\n      } else if (!isSelected && latest.scaleX < 1.01) {\n        zIndex.set(0);\n      }\n    }\n    // When this card is selected, attach a wheel event listener\n    const containerRef = useRef(null);\n    useWheelScroll(\n      containerRef,\n      y,\n      constraints,\n      checkSwipeToDismiss,\n      isSelected\n    );\n    return (\n      <li ref={containerRef} className={`card`}>\n        <Overlay isSelected={isSelected} />\n        <div className={`card-content-container ${isSelected && \"open\"}`}>\n          <motion.img className=\"close\" src={`${process.env.PUBLIC_URL}/images/btn_close.svg`} />\n          <motion.div\n            ref={cardRef}\n            className=\"card-content\"\n            style={Object.assign(Object.assign({}, inverted), { zIndex, y })}\n            layoutTransition={isSelected ? openSpring : closeSpring}\n            drag={isSelected ? \"y\" : false}\n            dragConstraints={constraints}\n            onDrag={checkSwipeToDismiss}\n            onUpdate={checkZIndex}\n          >\n            <Image\n              id={id}\n              isSelected={isSelected}\n              pointOfInterest={pointOfInterest}\n              backgroundColor={backgroundColor}\n            />\n\n            <Title title={title} category={category} isSelected={isSelected} />\n            <ContentPlaceholder article={article} />\n          </motion.div>\n        </div>\n        {!isSelected && <Link to={id} className={`card-open-link`} />}\n      </li>\n    );\n  },\n  (prev, next) => prev.isSelected === next.isSelected\n);\nconst Overlay = ({ isSelected }) => (\n  <motion.div\n    initial={false}\n    animate={{ opacity: isSelected ? 1 : 0 }}\n    transition={{ duration: 0.2 }}\n    style={{ pointerEvents: isSelected ? \"auto\" : \"none\" }}\n    className=\"overlay\"\n  >\n    <Link to=\"/\" />\n  </motion.div>\n);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}