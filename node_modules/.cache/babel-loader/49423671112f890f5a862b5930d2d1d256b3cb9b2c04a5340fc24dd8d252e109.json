{"ast":null,"code":"import*as React from\"react\";import{memo,useRef}from\"react\";import{motion,useMotionValue}from\"framer-motion\";import{Link,useNavigate}from\"react-router-dom\";import{ContentPlaceholder}from\"./ContentPlaceholder\";import{Title}from\"./Title\";import{Image}from\"./Image\";import{openSpring,closeSpring}from\"./animations\";import{useScrollConstraints}from\"../utils/use-scroll-constraints\";import{useWheelScroll}from\"../utils/use-wheel-scroll\";// Distance in pixels a user has to scroll a card down before we recognise\n// a swipe-to dismiss action.\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const dismissDistance=150;export const Card=/*#__PURE__*/memo(_ref=>{let{isSelected,id,title,category,// history prop 제거\npointOfInterest,backgroundColor,article}=_ref;const navigate=useNavigate();// useNavigate hook 사용\nconst y=useMotionValue(0);const zIndex=useMotionValue(isSelected?2:0);// We'll use the opened card element to calculate the scroll constraints\nconst cardRef=useRef(null);const constraints=useScrollConstraints(cardRef,isSelected);const checkSwipeToDismiss=React.useCallback(()=>{if(y.get()>dismissDistance){navigate(\"/\");}},[y,navigate]);const handleDragEnd=React.useCallback(()=>{checkSwipeToDismiss();// Z-index 조정\nif(isSelected){zIndex.set(2);}else{zIndex.set(0);}},[checkSwipeToDismiss,isSelected,zIndex]);// When this card is selected, attach a wheel event listener\nconst containerRef=useRef(null);useWheelScroll(containerRef,y,constraints,checkSwipeToDismiss,isSelected);return/*#__PURE__*/_jsxs(\"li\",{ref:containerRef,className:`card`,children:[/*#__PURE__*/_jsx(Overlay,{isSelected:isSelected}),/*#__PURE__*/_jsxs(\"div\",{className:`card-content-container ${isSelected&&\"open\"}`,children:[/*#__PURE__*/_jsx(motion.img,{className:\"close\",src:`${process.env.PUBLIC_URL}/images/btn_close.svg`,onClick:()=>navigate(\"/\"),style:{cursor:\"pointer\"},whileHover:{scale:1.1},whileTap:{scale:0.9}}),/*#__PURE__*/_jsxs(motion.div,{ref:cardRef,className:\"card-content\",style:{zIndex,y},layout:true,transition:isSelected?openSpring:closeSpring,drag:isSelected?\"y\":false,dragConstraints:constraints,onDragEnd:handleDragEnd,children:[/*#__PURE__*/_jsx(Image,{id:id,isSelected:isSelected,pointOfInterest:pointOfInterest,backgroundColor:backgroundColor}),/*#__PURE__*/_jsx(Title,{title:title,category:category,isSelected:isSelected}),/*#__PURE__*/_jsx(ContentPlaceholder,{article:article})]})]}),!isSelected&&/*#__PURE__*/_jsx(Link,{to:id,className:`card-open-link`})]});},(prev,next)=>prev.isSelected===next.isSelected);const Overlay=_ref2=>{let{isSelected}=_ref2;return/*#__PURE__*/_jsx(motion.div,{initial:false,animate:{opacity:isSelected?1:0},transition:{duration:0.2},style:{pointerEvents:isSelected?\"auto\":\"none\"},className:\"overlay\",children:/*#__PURE__*/_jsx(Link,{to:\"/\",\"aria-label\":\"Close card\"})});};","map":{"version":3,"names":["React","memo","useRef","motion","useMotionValue","Link","useNavigate","ContentPlaceholder","Title","Image","openSpring","closeSpring","useScrollConstraints","useWheelScroll","jsx","_jsx","jsxs","_jsxs","dismissDistance","Card","_ref","isSelected","id","title","category","pointOfInterest","backgroundColor","article","navigate","y","zIndex","cardRef","constraints","checkSwipeToDismiss","useCallback","get","handleDragEnd","set","containerRef","ref","className","children","Overlay","img","src","process","env","PUBLIC_URL","onClick","style","cursor","whileHover","scale","whileTap","div","layout","transition","drag","dragConstraints","onDragEnd","to","prev","next","_ref2","initial","animate","opacity","duration","pointerEvents"],"sources":["/Users/heetaekwoo/Documents/Github/WebSite-MmBook/src/Card/index.jsx"],"sourcesContent":["import * as React from \"react\";\nimport { memo, useRef } from \"react\";\nimport { motion, useMotionValue } from \"framer-motion\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { ContentPlaceholder } from \"./ContentPlaceholder\";\nimport { Title } from \"./Title\";\nimport { Image } from \"./Image\";\nimport { openSpring, closeSpring } from \"./animations\";\nimport { useScrollConstraints } from \"../utils/use-scroll-constraints\";\nimport { useWheelScroll } from \"../utils/use-wheel-scroll\";\n// Distance in pixels a user has to scroll a card down before we recognise\n// a swipe-to dismiss action.\nconst dismissDistance = 150;\nexport const Card = memo(\n  ({\n    isSelected,\n    id,\n    title,\n    category,\n    // history prop 제거\n    pointOfInterest,\n    backgroundColor,\n    article\n  }) => {\n    const navigate = useNavigate(); // useNavigate hook 사용\n    const y = useMotionValue(0);\n    const zIndex = useMotionValue(isSelected ? 2 : 0);\n    // We'll use the opened card element to calculate the scroll constraints\n    const cardRef = useRef(null);\n    const constraints = useScrollConstraints(cardRef, isSelected);\n    \n    const checkSwipeToDismiss = React.useCallback(() => {\n      if (y.get() > dismissDistance) {\n        navigate(\"/\");\n      }\n    }, [y, navigate]);\n    \n    const handleDragEnd = React.useCallback(() => {\n      checkSwipeToDismiss();\n      // Z-index 조정\n      if (isSelected) {\n        zIndex.set(2);\n      } else {\n        zIndex.set(0);\n      }\n    }, [checkSwipeToDismiss, isSelected, zIndex]);\n    \n    // When this card is selected, attach a wheel event listener\n    const containerRef = useRef(null);\n    useWheelScroll(\n      containerRef,\n      y,\n      constraints,\n      checkSwipeToDismiss,\n      isSelected\n    );\n    return (\n      <li ref={containerRef} className={`card`}>\n        <Overlay isSelected={isSelected} />\n        <div className={`card-content-container ${isSelected && \"open\"}`}>\n          <motion.img \n            className=\"close\" \n            src={`${process.env.PUBLIC_URL}/images/btn_close.svg`}\n            onClick={() => navigate(\"/\")}\n            style={{ cursor: \"pointer\" }}\n            whileHover={{ scale: 1.1 }}\n            whileTap={{ scale: 0.9 }}\n          />\n          <motion.div\n            ref={cardRef}\n            className=\"card-content\"\n            style={{ zIndex, y }}\n            layout\n            transition={isSelected ? openSpring : closeSpring}\n            drag={isSelected ? \"y\" : false}\n            dragConstraints={constraints}\n            onDragEnd={handleDragEnd}\n          >\n            <Image\n              id={id}\n              isSelected={isSelected}\n              pointOfInterest={pointOfInterest}\n              backgroundColor={backgroundColor}\n            />\n\n            <Title title={title} category={category} isSelected={isSelected} />\n            <ContentPlaceholder article={article} />\n          </motion.div>\n        </div>\n        {!isSelected && <Link to={id} className={`card-open-link`} />}\n      </li>\n    );\n  },\n  (prev, next) => prev.isSelected === next.isSelected\n);\nconst Overlay = ({ isSelected }) => (\n  <motion.div\n    initial={false}\n    animate={{ opacity: isSelected ? 1 : 0 }}\n    transition={{ duration: 0.2 }}\n    style={{ pointerEvents: isSelected ? \"auto\" : \"none\" }}\n    className=\"overlay\"\n  >\n    <Link \n      to=\"/\" \n      aria-label=\"Close card\"\n    />\n  </motion.div>\n);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}